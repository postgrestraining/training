
SQL> ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;

Database altered.

SQL> shutdown immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL> startup mount;
ORACLE instance started.

Total System Global Area 1526722880 bytes
Fixed Size                  8896832 bytes
Variable Size             939524096 bytes
Database Buffers          570425344 bytes
Redo Buffers                7876608 bytes
Database mounted.
SQL> alter database archivelog;

Database altered.

SQL> alter database open;

Database altered.

ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;
SELECT supplemental_log_data_min FROM v$database;

mkdir -p /softwares/dbs/arch
alter system switch logfile;

select 'ALTER TABLE '||table_name||' ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;' from all_tables where owner = 'HR';

ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;

ALTER TABLE REGIONS ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE COUNTRIES ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE LOCATIONS ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE DEPARTMENTS ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE JOBS ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE EMPLOYEES ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER TABLE JOB_HISTORY ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;


CLOB DATA
----------

CREATE TABLE clob_data_table (
    id       INTEGER PRIMARY KEY,
    clob_data CLOB
);

DECLARE
    large_text CLOB;
    i          INTEGER := 1;
BEGIN
    DBMS_LOB.createtemporary(large_text, TRUE);

    WHILE i <= 5000 LOOP
        DBMS_LOB.writeappend(large_text, LENGTH('Sentence ' || i || ' of the long text ' || i || '. '), 'Sentence ' || i || ' of the long text ' || i || '. ');
        i := i + 1;
    END LOOP;
	INSERT INTO clob_data_table (id, clob_data) VALUES (1, TO_CLOB(large_text));

 -- Commit the transaction
    COMMIT;
END;
/


SELECT dbms_lob.getlength(clob_data) AS length, dbms_lob.substr(clob_data, 4000, 1) AS first_4000_chars
FROM clob_data_table;



